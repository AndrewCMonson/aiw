# \`.ai/\` prompt library

This folder contains repo-local prompts you can use with Cursor AI. Prompts can be **copied to clipboard** for manual pasting, or **executed directly** via the \`aiw run\` command.

## Structure

\`\`\`
.ai/
prompts/
pre*push_review/
pre_push_review.md
backups/
context_sync/
context_sync.md
backups/
repo_discover/
repo_discover.md
backups/
...
context/
repo_context/
REPO_CONTEXT.md
pr_reviews/
YYYY-MM-DD_HHMMSS*<id>_<descriptor>.md
feature_plans/
YYYY-MM-DD_HHMMSS_<id>_<descriptor>.md
debug_notes/
YYYY-MM-DD_HHMMSS_<id>\_<descriptor>.md
\`\`\`

Each prompt lives in its own folder with backups stored in a \`backups/\` subfolder.

## CLI usage

| Command                | Description                                 |
| ---------------------- | ------------------------------------------- |
| \`aiw setup\`          | Create/refresh the prompt library structure |
| \`aiw list\`           | List available prompts                      |
| \`aiw show <name>\`    | Print a prompt to stdout                    |
| \`aiw copy <name>\`    | Copy a prompt to clipboard                  |
| \`aiw open <name>\`    | Open the prompt file in editor              |
| \`aiw new <name>\`     | Scaffold a new prompt                       |
| \`aiw run <name>\`     | Run prompt via Cursor Agent CLI             |
| \`aiw context:verify\` | Verify PROJECT_CONTEXT.md is updated        |

All commands support \`--workspace <path>\` (default \`.ai\`).

## Default prompts

| Prompt              | Purpose                                      |
| ------------------- | -------------------------------------------- |
| \`repo_discover\`   | Initial repository discovery                 |
| \`repo_refresh\`    | Refresh existing repo context                |
| \`pre_push_review\` | Pre-push code review                         |
| \`feature_plan\`    | Feature planning and design                  |
| \`debug_senior\`    | Senior-level debugging assistance            |
| \`context_sync\`    | Sync PROJECT_CONTEXT.md with REPO_CONTEXT.md |

## Context files

The \`context/\` directory contains artifacts generated by prompts:

| Directory          | Purpose                                  | Versioned |
| ------------------ | ---------------------------------------- | --------- |
| \`repo_context/\`  | Repository discovery notes (single file) | No        |
| \`pr_reviews/\`    | Pre-push review notes                    | Yes       |
| \`feature_plans/\` | Feature planning documents               | Yes       |
| \`debug_notes/\`   | Debugging session notes                  | Yes       |

### Versioned file naming

Files in \`pr_reviews/\`, \`feature_plans/\`, and \`debug_notes/\` use:

\`YYYY-MM-DD*HHMMSS*<id>\_<descriptor>.md\`

- \`YYYY-MM-DD_HHMMSS\` - Timestamp when file was created
- \`<id>\` - Unique 6-8 character identifier (git short SHA)
- \`<descriptor>\` - Branch name or description

### Finding files

\`\`\`bash

# List all files

ls .ai/context/pr_reviews/

# Find by date

ls .ai/context/feature_plans/ | grep 2026-01-15

# Find by branch

ls .ai/context/feature_plans/ | grep feature-user-auth
\`\`\`

## Dual-context governance

| File                                         | Purpose                       | Tracked |
| -------------------------------------------- | ----------------------------- | ------- |
| \`docs/PROJECT_CONTEXT.md\`                  | Authoritative project context | Yes     |
| \`.ai/context/repo_context/REPO_CONTEXT.md\` | Local working context         | No      |

**Rule:** When in conflict, \`PROJECT_CONTEXT.md\` wins.

See \`docs/PROJECT_CONTEXT.md\` for full documentation.
